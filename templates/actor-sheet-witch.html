<form class="{{cssClass}}" autocomplete="off">

  {{!-- Hidden inputs to reflect the sheet class and force standard crit range --}}
  <input type="hidden" id="system.details.sheetClass" name="system.details.sheetClass" value="Witch" data-dtype="String"/>
  <input type="hidden" id="system.details.critRange" name="system.details.critRange" value="20" data-dtype="Number"/>

  {{!-- Sheet Tab Navigation --}}
  <nav class="sheet-tabs tabs" data-group="primary">
    <a data-tab="character" title="{{localize 'DCC.CharacterTabHint'}}">{{localize "DCC.Character"}}</a>
    <a data-tab="equipment" title="{{localize 'DCC.EquipmentTabHint'}}">{{localize "DCC.Equipment"}}</a>
    <a data-tab="witch" title="{{localize 'DE.WitchTabHint'}}">{{localize "DE.Witch"}}</a>
    <a data-tab="spells" title="{{localize 'DCC.SpellsTabHint'}}">{{localize "DCC.ClericSpells"}}</a>
    {{#if system.config.showSkills}}
      <a data-tab="skills" title="{{localize 'DCC.SkillsTabHint'}}">{{localize "DCC.Skills"}}</a>
    {{/if}}
    <a data-tab="notes" title="{{localize 'DCC.NotesTabHint'}}">{{localize "DCC.Notes"}}</a>
  </nav>

  {{!-- Sheet Body --}}
  <section class="sheet-body">

    {{!-- Character Tab --}}
    {{> systems/dcc/templates/actor-partial-pc-common.html }}

    {{!-- Equipment Tab --}}
    {{> systems/dcc/templates/actor-partial-pc-equipment.html }}

    {{!-- Skills Tab --}}
    {{> systems/dcc/templates/actor-partial-skills.html }}

    {{!-- Notes Tab --}}
    {{> systems/dcc/templates/actor-partial-pc-notes.html }}

    {{!-- Class Tab --}}
    <div class="tab" data-group="primary" data-tab="witch">
      <div class="grid-col-span-12 grid-container grid-row-gap-5 grid-col-gap-5 mb-8">
        <div class="grid-col-span-5 grid-row-span-2 dark-border" data-ability="per">
          <div class="dark-title">{{localize "DCC.SpellCheck"}}</div>
          <div class="grid-align-center p-5">
            <div class="value-display" title="{{localize 'DCC.DisplayValueHint'}}">
              {{ifThen system.class.spellCheckOverrideDie system.class.spellCheckOverrideDie system.attributes.actionDice.value}}{{system.class.spellCheck}}
            </div>

            <div class="group-separator"></div>

            <div class="grid-tpl-max-auto-tight grid-col-gap-8 grid-align-center">
              <div class="group-heading" style="font-size: 15px;">{{localize "DCC.Die"}}</div>
              <div class="value-display" title="{{localize 'DCC.DisplayValueHint'}}">{{system.attributes.actionDice.value}}</div>
              <label class="group-indent" for="system.class.spellCheckOverrideDie" title="{{localize 'DCC.OverrideHint'}}">
                {{localize "DCC.Override"}}
              </label>
              <input id="system.class.spellCheckOverrideDie" name="system.class.spellCheckOverrideDie"
                     value="{{system.class.spellCheckOverrideDie}}"
                     data-dtype="String"/>
            </div>

            <div class="group-separator"></div>

            <div class="grid-tpl-max-auto-tight grid-col-gap-8 grid-align-center">
              <div class="group-heading" style="font-size: 15px;">{{localize "DCC.Bonus"}}</div>
              <div class="value-display" title="{{localize 'DCC.DisplayValueHint'}}">{{system.class.spellCheck}}</div>
              <div class="group-indent label-font" title="{{localize 'DCC.DisplayValueHint'}}">{{localize "DCC.Level"}}</div>
              <div class="value-display center" title="{{localize 'DCC.DisplayValueHint'}}">{{system.details.level.value}}</div>
              <div class="mr-3 group-indent label-font" title="{{localize 'DCC.DisplayValueHint'}}">{{localize "DCC.AbilityPerShort"}} {{localize "DCC.Modifier"}}</div>
              <div class="value-display center" title="{{localize 'DCC.DisplayValueHint'}}">{{system.abilities.per.mod}}</div>
              <label class="group-indent" for="system.class.spellCheckOverride" title="{{localize 'DCC.OverrideHint'}}">
                {{localize "DCC.Override"}}
              </label>
              <input id="system.class.spellCheckOverride"
                     name="system.class.spellCheckOverride"
                     value="{{system.class.spellCheckOverride}}"
                     data-dtype="String"/>

              <div class="group-separator"></div>

              <div class="label-font spell-check rollable mr-3 grid-col-span-2 center">
                <div title="{{localize 'DCC.RollSpellCheckHint'}}"><i class="fas fa-dice-d20"></i> {{localize "DCC.RollSpellCheck"}}</div>
              </div>
            </div>
          </div>
        </div>

        <div class="grid-col-span-7 dark-border">
          <div class="dark-title" style="">{{localize "DE.WitchAbilities"}}</div>
          <div class="grid-tpl-two label-font p-5 grid-row-gap-8 grid-col-gap-8">
            <div class="grid-col-span-2 grid-tpl-max-auto grid-col-gap-5">
              <label for="system.class.pact" title="{{localize 'DE.PactHint'}}">{{localize "DE.Pact"}}</label>
              <input class="full-width" type="text" id="system.class.pact" name="system.class.pact"
                     value="{{system.class.pact}}" data-dtype="String"/>
							<label for="system.class.pactweapon" title="{{localize 'DE.PactWeaponHint'}}">{{localize "DE.PactWeapon"}}</label>
							<input class="full-width" type="text" id="system.class.pactweapon" name="system.class.pactweapon"
										 value="{{system.class.pactweapon}}" data-dtype="String"/>
              <div class="sympathetic">
							  <label for="system.class.sympatheticspells" class="dark-title">{{localize "DE.SympatheticSpells"}}</label>
							  <textarea id="system.class.sympatheticspells" name="system.class.sympatheticspells" rows="2">{{system.class.sympatheticspells}}</textarea>
              </div>
              <div class="antithetic">
							  <label for="system.class.antitheticspells" class="dark-title">{{localize "DE.AntitheticSpells"}}</label>
							  <textarea id="system.class.antitheticspells" name="system.class.antitheticspells" rows="2">{{system.class.antitheticspells}}</textarea>
              </div>
              <label for="system.class.heldspellburn" title="{{localize 'DE.HeldSpellburnHint'}}">{{localize "DE.HeldSpellburn"}}</label>
              <input class="full-width" id="system.class.heldspellburn" name="system.class.heldspellburn"
                     value="{{numberFormat system.class.heldspellburn decimals=0 sign=true}}" data-dtype="Number"/>
              <label for="system.class.demonictaint" title="{{localize 'DE.DemonicTaintHint'}}">{{localize "DE.DemonicTaint"}}</label>
              <input class="full-width" id="system.class.demonictaint" name="system.class.demonictaint"
                     value="{{numberFormat system.class.demonictaint decimals=0 sign=true}}" data-dtype="Number"/>
						</div>
          </div>
        </div>
      </div>
      <div class="tab-body grid-container">
        <div class="grid-col-span-12 curses">
          <div class="dark-title">{{localize "DE.Curses"}}</div>
          <div class="notes">
            {{editor notesHTML target="system.class.curses" engine="prosemirror" button=true editable=editable}}
          </div>
        </div>
        <div class="grid-col-span-12 corruptions">
          <div class="dark-title">{{localize "DE.DemonicCorruption"}}</div>
          <div class="notes">
            {{editor notesHTML target="system.class.demoniccorruption" engine="prosemirror" button=true editable=editable}}
          </div>
        </div>
      </div>
    </div>

    {{!-- Spells Tab --}}
    {{> systems/dcc/templates/actor-partial-cleric-spells.html }}
  </section>
</form>
